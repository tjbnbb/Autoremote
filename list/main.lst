C51 COMPILER V9.51   MAIN                                                                  09/15/2021 23:58:01 PAGE 1   


C51 COMPILER V9.51, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\output\main.obj
COMPILER INVOKED BY: D:\Keil\C51\BIN\C51.EXE source\main.c BROWSE INCDIR(.\include) DEBUG OBJECTEXTEND PRINT(.\list\main
                    -.lst) TABS(2) OBJECT(.\output\main.obj)

line level    source

   1          
   2          //******* ³ÌÐò°üº¬ÎÄ¼þ *************//
   3          #include "main.H" 
   4          
   5          //******* È«¾Ö±äÁ¿¶¨Òå *************//
   6          struct_ADC        ADCresult;                   //ÈÈÃô¡¢¹âÃô²âÁ¿ADÖµ           
   7          xdata unsigned char co[140];                 //´æ´¢ºìÍâÏß·¢Éä±àÂë
   8          unsigned char instruction[9]={0x40,0x00,0x20,0x50,0x02,0x00,0x21,0x00,0x00};       //´æ·Å¿Õµ÷Ö¸Áî
   9          unsigned char start[2]={15,7};                //ÆðÊ¼Âë
  10          unsigned char connect[2]={1,33};              //Á¬½ÓÂë
  11          unsigned char finish[2]={1,0};              //½áÊøÂë
  12          unsigned char zero[2]={1,1};                 //¡°0¡±
  13          unsigned char one[2]={1,3};                 //¡°1¡±
  14          unsigned char func=0;                       //¿Õµ÷µÄÄ£Ê½
  15          unsigned char switchflag=0;                 //¿Õµ÷ÊÇ·ñ´ò¿ª
  16          unsigned char wind=0;                       //¿Õµ÷µÄ·çËÙ´óÐ¡
  17          unsigned char sweep=0;                      //É¨·çÄ£Ê½
  18          unsigned char temperature=16;               //Éè¶¨µÄÎÂ¶È
  19          unsigned char tempnow;                      //ÊµÊ±ÎÂ¶È
  20          unsigned char autocontrol=0;                //ÊÇ·ñ¿ªÆôÖÇÄÜ¿ØÖÆ
  21          unsigned char count=10;                     //ÖÇÄÜ¿ØÖÆ¼ì²âµÄÖ´ÐÐ´ÎÊý
  22          unsigned int t=0;                          //Ö´ÐÐÎÂ¶ÈµÄ´ÎÊý
  23          unsigned long sumt=0;                       //ÎÂ¶ÈADµÄ×ÜºÍ
  24          //ÎÂ¶ÈÖµ¶ÔÓ¦±í
  25          int code tempdata[]={239,197,175,160,150,142,135,129,124,120,116,113,109,107,104,101, 
  26                                99, 97, 95, 93, 91, 90, 88, 86, 85, 84, 82, 81, 80, 78, 77, 76, 
  27                                75, 74, 73, 72, 71, 70, 69, 68, 67, 67, 66, 65, 64, 63, 63, 62, 
  28                                61, 61, 60, 59, 58, 58, 57, 57, 56, 55, 55, 54, 54, 53, 52, 52, 
  29                                51, 51, 50, 50, 49, 49, 48, 48, 47, 47, 46, 46, 45, 45, 44, 44, 
  30                                43, 43, 42, 42, 41, 41, 41, 40, 40, 39, 39, 38, 38, 38, 37, 37, 
  31                                36, 36, 36, 35, 35, 34, 34, 34, 33, 33, 32, 32, 32, 31, 31, 31, 
  32                                30, 30, 29, 29, 29, 28, 28, 28, 27, 27, 27, 26, 26, 26, 25, 25,
  33                                24, 24, 24, 23, 23, 23, 22, 22, 22, 21, 21, 21, 20, 20, 20, 19, 
  34                                19, 19, 18, 18, 18, 17, 17, 16, 16, 16, 15, 15, 15, 14, 14, 14, 
  35                                13, 13, 13, 12, 12, 12, 11, 11, 11, 10, 10, 9, 9, 9, 8, 8, 8, 7, 
  36                                7, 7, 6, 6,5, 5, 54,4, 3, 3,3, 2, 2, 1, 1, 1, 0, 0, -1, -1, -1, 
  37                                -2, -2, -3, -3, -4, -4, -5, -5, -6, -6, -7, -7, -8, -8, -9, -9, 
  38                                -10, -10, -11, -11, -12, -13, -13, -14, -14, -15, -16, -16, -17, 
  39                                -18, -19, -19, -20, -21, -22, -23, -24, -25, -26, -27, -28, -29, 
  40                                -30, -32, -33, -35, -36, -38, -40, -43, -46, -50, -55, -63, 361};
  41          
  42          
  43          //******* º¯ÊýÔ­ÐÍ *************//
  44          #include "function.c" 
  45          
  46          void my1mS_callback()                       //1msÊÂ¼þ»Øµ÷º¯Êý
  47          { dealwithtemp();   //ÇóÊµÊ±ÎÂ¶È
  48   1      }
  49            
  50          void my100mS_callback()                     //100mSÊÂ¼þ»Øµ÷º¯Êý
  51          { dealwithDisp();   //ÊýÂë¹Ü¼°LEDÏÔÊ¾
  52   1      }      
  53                         
  54          void my1S_callback()                       //1SÊÂ¼þ»Øµ÷º¯Êý
C51 COMPILER V9.51   MAIN                                                                  09/15/2021 23:58:01 PAGE 2   

  55          { dealwithauto();   //ÖÇÄÜ¿ØÖÆ
  56   1      }
  57          
  58          void myKN_callback()                                //µ¼º½°´¼üÊÂ¼þ»Øµ÷º¯Êý
  59          { dealwithmyKN();   
  60   1      }
  61          
  62          void mykey_callback()                               // °´¼ü£¨Key1¡¢Key2£©ÊÂ¼þ»Øµ÷º¯Êý
  63          { dealwithmykey();    
  64   1      }
  65          
  66          //******* main()º¯Êý *************//  
  67          void main() {         //Ö÷º¯Êý main() ¿ªÊ¼ 
  68   1        
  69   1      //******* main()º¯Êý£¨³õÊ¼»¯Àà³ÌÐò£© *************//    
  70   1      //¼ÓÔØÐèÒªÓÃµÄÄ£¿é(ÓÉ¸÷Ä£¿éÌá¹©¼ÓÔØº¯Êý)
  71   1          Key_Init();                                      //ÐèÒªÓÃµ½µÄÄ£¿é¼°Æäº¯Êý¡¢·½·¨£¬±ØÐë¶ÔÆä³õÊ¼»¯£¨ÈÃÆä×¼±
             -¸¡¢¾ÍÐ÷ºÍÏìÓ¦×öºóÌ¨·þÎñ£©
  72   1          DisplayerInit();                                 //ÏÔÊ¾Ä£¿é³õÊ¼»¯
  73   1          BeepInit();                                      //·äÃùÆ÷Ä£¿é³õÊ¼»¯
  74   1          AdcInit(ADCexpEXT);                              //ADCÄ£¿é³õÊ¼»¯£¬ÓÐ²ÎÊý£¬Ñ¡ÔñÀ©Õ¹½Ó¿ÚEXTÉÏP1.0¡¢P1.1ÊÇ
             -·ñÒ²×öADC¹¦ÄÜ
  75   1          IrInit(NEC_R05d);                                //ºìÍâÏßÄ£¿é³õÊ¼»¯
  76   1      //ÉèÖÃÊÂ¼þ»Øµ÷º¯Êý(ÓÉsysÌá¹©ÉèÖÃº¯ÊýSetEventCallBack()) 
  77   1          SetEventCallBack(enumEventKey, mykey_callback);            //ÉèÖÃ°´¼ü»Øµ÷º¯Êý
  78   1          SetEventCallBack(enumEventSys1mS, my1mS_callback);         //ÉèÖÃ1ms»Øµ÷º¯Êý
  79   1          SetEventCallBack(enumEventSys100mS, my100mS_callback);     //ÉèÖÃ100ms»Øµ÷º¯Êý
  80   1          SetEventCallBack(enumEventSys1S, my1S_callback);           //ÉèÖÃ1s»Øµ÷º¯Êý
  81   1          SetEventCallBack(enumEventNav, myKN_callback);             //ÉèÖÃµ¼º½°´¼ü»Øµ÷º¯Êý
  82   1      
  83   1      //×´Ì¬³õÊ¼»¯  
  84   1          SetDisplayerArea(0,7);                           //ÉèÖÃÊýÂë¹ÜÏÔÊ¾ÇøÓò
  85   1          
  86   1      /*****************  MySTC_OS ³õÊ¼»¯Óë¼ÓÔØ¿ªÊ¼  ********************************/   
  87   1          MySTC_Init();     // MySTC_OS ³õÊ¼»¯ 
  88   1        while(1)            // ÏµÍ³Ö÷Ñ­»·   
  89   1          { MySTC_OS();     // MySTC_OS ¼ÓÔØ
  90   2      /*****************  MySTC_OS ³õÊ¼»¯Óë¼ÓÔØ½áÊø  ********************************/  
  91   2            
  92   2          }               //Ö÷Ñ­»·while(1)½áÊø
  93   1      }                   //Ö÷º¯Êý main() ½áÊø 
  94          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1338    ----
   CONSTANT SIZE    =    538    ----
   XDATA SIZE       =    140    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     43       8
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
